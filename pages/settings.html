<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Settings Aplikasi</title>

<!-- BOOTSTRAP -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- BOOTSTRAP ICONS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.css" rel="stylesheet">

<!-- CUSTOM CSS -->
<link href="../assets/css/style.css" rel="stylesheet">

</head>
<body>

<!-- ========== SIDEBAR ========== -->
<div class="sidebar">

  <div class="text-center mb-3 title-app">
    <i class="bi bi-fingerprint me-1"></i>
    <strong>Absensi Online</strong>
  </div>

  <nav class="nav flex-column px-2">

    <a class="nav-link" href="dashboard.html">
      <i class="bi bi-speedometer me-2"></i> Dashboard Admin
    </a>

    <a class="nav-link" href="data-kehadiran.html">
      <i class="bi bi-journal-check me-2"></i> Data Kehadiran
    </a>

    <a class="nav-link" href="data-pegawai.html">
      <i class="bi bi-people-fill me-2"></i> Data Pegawai
    </a>

    <a class="nav-link active" href="settings.html">
      <i class="bi bi-sliders me-2"></i> Settings Aplikasi
    </a>

    <!-- TOMBOL LOGOUT -->
    <a class="nav-link" href="#" id="btnLogout">
      <i class="bi bi-box-arrow-right me-2"></i> Keluar
    </a>

  </nav>

  <div class="sidebar-user text-center text-light mt-3">
    <i class="bi bi-person-circle me-1"></i> Admin
  </div>

</div>

<!-- ========== HEADER ========== -->
<div class="header-top d-flex justify-content-end px-3">
  <div class="user">
    <i class="bi bi-stars me-2"></i>
    Selamat Datang, <span id="user"></span>
  </div>
</div>

<!-- ========== CONTENT ========== -->
<div class="content">

  <h3><i class="bi bi-gear-fill me-2"></i> Settings Aplikasi</h3>

  <div class="card p-4 mt-3 shadow-sm">

    <p><i class="bi bi-clock-history me-1"></i> Pengaturan pembagian waktu absen harian:</p>

    <!-- NAMA APLIKASI -->
    <div class="mb-3">
      <label class="form-label"><i class="bi bi-app me-1"></i> Nama Aplikasi</label>
      <input id="namaApp" class="form-control" value="Absensi Online">
    </div>

    <hr>

    <!-- WAKTU ABSEN -->
    <h5 class="mb-3"><i class="bi bi-calendar-check me-1"></i> Waktu Absen Aktif</h5>

    <div class="mb-3">
      <label class="form-label"><i class="bi bi-clock me-1"></i> Pilih Waktu Absen</label>
      <select class="form-select" id="waktuAbsen">
        <option value="pagi">Pagi (08:00 - 11:00)</option>
        <option value="siang">Siang (11:00 - 14:00)</option>
        <option value="sore">Sore (14:00 - 17:00)</option>
      </select>
    </div>

    <button class="btn btn-primary w-100" onclick="simpanWaktu()">
      <i class="bi bi-save2 me-2"></i> Simpan Pengaturan
    </button>

  </div>

</div>

<!-- SCRIPT -->
<script>
// Tampilkan user login
document.getElementById('user').innerText =
  localStorage.getItem('absensi_user') || 'Admin';

// Load pengaturan sebelumnya
window.onload = function() {
  // Load waktu absen jika pernah disetting
  let savedTime = localStorage.getItem("waktu_absen");
  if (savedTime) {
    document.getElementById("waktuAbsen").value = savedTime;
  }

  // Load nama aplikasi jika pernah disimpan
  let namaApp = localStorage.getItem("nama_app");
  if (namaApp) {
    document.getElementById("namaApp").value = namaApp;
  }
}

// Simpan pengaturan ke localStorage
function simpanWaktu() {
  let waktu = document.getElementById("waktuAbsen").value;
  let nama = document.getElementById("namaApp").value;

  localStorage.setItem("waktu_absen", waktu);
  localStorage.setItem("nama_app", nama);

  alert("Pengaturan berhasil disimpan!");
}

// FUNGSI LOGOUT
document.getElementById('btnLogout').addEventListener('click', function(){
  localStorage.removeItem('absensi_user');
  window.location.href = "../login.html";
});
</script>

</body>
</html>
