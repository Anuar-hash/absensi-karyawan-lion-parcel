<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Dashboard Admin</title>

<!-- BOOTSTRAP -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- BOOTSTRAP ICONS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.css" rel="stylesheet">

<!-- CUSTOM CSS -->
<link href="../assets/css/style.css" rel="stylesheet">
</head>
<body>

<!-- ========== SIDEBAR ========== -->
<div class="sidebar">

  <div class="text-center mb-3 title-app">
    <i class="bi bi-fingerprint me-1"></i>
    <strong>Absensi Online</strong>
  </div>

  <nav class="nav flex-column px-2">

    <a class="nav-link active" href="dashboard.html">
      <i class="bi bi-speedometer me-2"></i> Dashboard Admin
    </a>

    <a class="nav-link" href="data-kehadiran.html">
      <i class="bi bi-journal-check me-2"></i> Data Kehadiran
    </a>

    <a class="nav-link" href="data-pegawai.html">
      <i class="bi bi-person-vcard-fill me-2"></i> Data Pegawai
    </a>

    <a class="nav-link" href="settings.html">
      <i class="bi bi-sliders me-2"></i> Settings Aplikasi
    </a>

    <a class="nav-link" href="#" onclick="logout()">
      <i class="bi bi-box-arrow-right me-2"></i> Keluar
    </a>

  </nav>

  <div class="sidebar-user text-center text-light mt-3">
    <i class="bi bi-person-circle me-1"></i> Admin
  </div>

</div>

<!-- ========== HEADER ========== -->
<div class="header-top d-flex justify-content-end px-3">
  <div class="user">
    <i class="bi bi-stars me-2"></i>
    Selamat Datang, <span id="userName"></span>
  </div>
</div>

<!-- ========== CONTENT ========== -->
<div class="content">

  <!-- HERO -->
  <div class="dashboard-hero text-center">
    <img src="../assets/img/user1.svg" width="90">
    <h2 class="mt-2"><i class="bi bi-building-fill me-1"></i> Absensi Karyawan Lion Parcel</h2>

    <p>
      <i class="bi bi-cloud-moon-fill me-1"></i>
      Hallo.. Yaahowu, Admin
    </p>

    <small class="text-muted">
      <i class="bi bi-lightbulb-fill me-1"></i> Jangan lupa Semangat 45!
    </small>
  </div>

  <div class="row mt-4">

    <!-- IDENTITAS -->
    <div class="col-md-6">
      <div class="card p-3 card-custom">
        <h5>
          <i class="bi bi-person-badge-fill me-2"></i> Identitas Diri
        </h5>
        <p><b>Nama Lengkap:</b> <span id="namaUser">Admin</span></p>
        <p><b>Umur:</b> Tidak Ada Yang Tau</p>
        <p><b>Instansi:</b> Universitas Nias</p>
      </div>
    </div>

    <!-- ABSENSI -->
    <div class="col-md-6">
      <div class="card p-3 text-center card-custom">

        <h5>
          <i class="bi bi-alarm-fill me-2"></i> Absensi
        </h5>

        <!-- JAM & TANGGAL -->
        <div id="jam" class="display-6 fw-bold text-dark">-- : -- : --</div>
        <p id="tgl" class="text-muted"><i class="bi bi-calendar2-week me-1"></i> --</p>

        <!-- STATUS ABSEN -->
        <select class="form-select mb-2">
          <option>Berada Di Kantor</option>
          <option>Berada Di Rumah</option>
          <option>Berada Di Kampus</option>
        </select>

        <!-- ALERT NOTIFIKASI -->
        <div id="alertBox"></div>

        <!-- BUTTON ABSEN -->
        <button class="btn btn-success w-100 mt-2" onclick="absenNow()">
          <i class="bi bi-check2-circle me-1"></i> Absen
        </button>

      </div>
    </div>

  </div>
</div>

<!-- SCRIPT -->
<script>
// Tampilkan nama user
document.getElementById('userName').innerText =
  localStorage.getItem('absensi_user') || 'Admin';

// JAM & TANGGAL REAL TIME
function tick(){
  const d = new Date();
  document.getElementById('jam').innerText = d.toLocaleTimeString();
  document.getElementById('tgl').innerText = d.toLocaleDateString('id-ID', {
    weekday:'long', year:'numeric', month:'long', day:'numeric'
  });
}
tick();
setInterval(tick,1000);

// FUNGSI ABSEN + NOTIFIKASI
function absenNow(){
  document.getElementById('alertBox').innerHTML = `
    <div class="alert alert-success alert-dismissible fade show mt-2" role="alert">
      <i class="bi bi-check-circle-fill me-1"></i>
      Absen berhasil disimpan!
      <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    </div>
  `;

  localStorage.setItem("absen_status", "done_" + new Date().toLocaleDateString());
}

// LOGOUT
function logout(){
  localStorage.removeItem("absensi_user");
  window.location.href = "../login.html";
}
</script>

</body>
</html>
